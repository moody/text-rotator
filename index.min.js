const MAX_LETTERS=26,A="A".charCodeAt(0);let incrementText,upButton,downButton,normalTextArea,rotatedTextArea,rotateBy=13;function increment(){++rotateBy>MAX_LETTERS-1&&(rotateBy=0),incrementText.text(rotateBy)}function decrement(){--rotateBy<0&&(rotateBy=MAX_LETTERS-1),incrementText.text(rotateBy)}function rotate(t,e){let r=t.toUpperCase().split("");return(r=r.map(t=>t.match(/[^A-Z]/g)?t:(t=e?(t.charCodeAt(0)-A-rotateBy+MAX_LETTERS)%MAX_LETTERS+A:(t.charCodeAt(0)-A+rotateBy)%MAX_LETTERS+A,String.fromCharCode(t)))).join("")}function updateTextArea(t){let e=t===rotatedTextArea?rotate(normalTextArea.val()):rotate(rotatedTextArea.val(),!0);t.val(e)}$(document).ready(()=>{incrementText=$("#increment-text"),upButton=$("#up-button"),downButton=$("#down-button"),normalTextArea=$("#normal-textarea"),rotatedTextArea=$("#rotated-textarea"),incrementText.text(rotateBy),upButton.click(()=>{increment(),updateTextArea(rotatedTextArea)}),downButton.click(()=>{decrement(),updateTextArea(rotatedTextArea)}),normalTextArea.bind("input propertychange",()=>updateTextArea(rotatedTextArea)),rotatedTextArea.bind("input propertychange",()=>updateTextArea(normalTextArea))});